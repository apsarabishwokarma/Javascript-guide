// script.js

document.addEventListener("DOMContentLoaded", () => {
  const form = document.getElementById("reservationForm");
  const reservationList = document.getElementById("reservationList");

  // Load reservations from localStorage
  let reservations = JSON.parse(localStorage.getItem("reservations")) || [];

  // Function to render reservations
  function renderReservations() {
    reservationList.innerHTML = "";
    reservations.forEach((reservation) => {
      const li = document.createElement("li");
      li.textContent = `${reservation.name} reserved ${reservation.timeSlot} time slot`;
      reservationList.appendChild(li);
    });
  }

  // Check for conflicts
  function isConflict(timeSlot) {
    return reservations.some(
      (reservation) => reservation.timeSlot === timeSlot
    );
  }

  // Handle form submission
  form.addEventListener("submit", (e) => {
    e.preventDefault();
    const name = document.getElementById("name").value;
    const timeSlot = document.getElementById("timeSlot").value;

    if (isConflict(timeSlot)) {
      alert(
        "This time slot is already reserved. Please choose a different time."
      );
    } else {
      const reservation = { name, timeSlot };
      reservations.push(reservation);
      localStorage.setItem("reservations", JSON.stringify(reservations));
      renderReservations();
      form.reset();
    }
  });

  renderReservations();
});
